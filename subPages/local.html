<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Document</title>
  </head>
  <body>
    <div id="my-money-button"></div>
    <div id="my-button"></div>

    <!-- This line can go anywhere -->
    <script src="https://www.moneybutton.com/moneybutton.js"></script>

    <script>
      const div = document.getElementById("my-money-button");
      moneyButton.render(div, {
        to: "16723@moneybutton.com",
        amount: ".05",
        currency: "USD",
        label: "Purchase",
        clientIdentifier: "90f5ba7cbea2b2f74a0f3095d4af0829",
        buttonId: "1580534539287",
        buttonData: "{}",
        type: "buy",
        onPayment: function(arg) {
          console.log("onPayment", arg);
        },
        onError: function(arg) {
          console.log("onError", arg);
        }
      });
      function displayHiddenContent(payment) {
        // be sure to validate the transaction - does it have the right outputs?
        document.getElementById("my-hidden-content").innerHTML =
          "Hidden content.";
      }

      moneyButton.render(document.getElementById("my-button"), {
        to: "16723@moneybutton.com",
        amount: "0.04",
        currency: "USD",
        label: "Purchase",
        clientIdentifier: "90f5ba7cbea2b2f74a0f3095d4af0829",
        buttonId: "1580534539287",
        buttonData: "{}",
        onPayment: displayHiddenContent
      });

      function myCustomCallback(payment) {
        console.log("A payment has occurred!", payment);
      }

      moneyButton.render(div, {
        to: "16723@moneybutton.com",
        amount: "0.03",
        currency: "USD",
        onPayment: myCustomCallback
      });

      if (typeof Storage !== "undefined") {
        // Retrieve
        document.getElementById("my-button").innerHTML = localStorage.getItem(
          "mb_js_client:current_user"
        );
      } else {
        document.getElementById("result").innerHTML =
          "Sorry, your browser does not support Web Storage...";
      }
    </script>
  </body>
</html>
